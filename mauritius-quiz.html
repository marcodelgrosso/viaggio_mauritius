<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Scopri il tuo prossimo viaggio</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: #0a0a0a;
      --bg-card: #141414;
      --text: #ffffff;
      --text-muted: #888888;
      --accent: #00d4aa;
      --accent-glow: rgba(0, 212, 170, 0.4);
      --gradient: linear-gradient(135deg, #00d4aa 0%, #00a896 100%);
      --radius: 20px;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', sans-serif;
      background: var(--bg);
      color: var(--text);
      min-height: 100vh;
      overflow-x: hidden;
    }

    h1, h2, h3 {
      font-family: 'Space Grotesk', sans-serif;
    }

    /* Background animated gradient */
    .bg-gradient {
      position: fixed;
      inset: 0;
      z-index: 0;
      overflow: hidden;
    }

    .bg-gradient::before {
      content: '';
      position: absolute;
      width: 150%;
      height: 150%;
      top: -25%;
      left: -25%;
      background: radial-gradient(circle at 30% 30%, rgba(0, 212, 170, 0.08) 0%, transparent 50%),
                  radial-gradient(circle at 70% 70%, rgba(0, 168, 150, 0.06) 0%, transparent 50%);
      animation: bgFloat 20s ease-in-out infinite;
    }

    @keyframes bgFloat {
      0%, 100% { transform: translate(0, 0) rotate(0deg); }
      33% { transform: translate(2%, 2%) rotate(1deg); }
      66% { transform: translate(-1%, 1%) rotate(-1deg); }
    }

    /* Main container */
    .quiz-container {
      position: relative;
      z-index: 1;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 24px;
    }

    /* Progress bar */
    .progress-container {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: rgba(255,255,255,0.1);
      z-index: 100;
    }

    .progress-bar {
      height: 100%;
      background: var(--gradient);
      width: 0%;
      transition: width 0.5s cubic-bezier(0.4, 0, 0.2, 1);
    }

    /* Question counter */
    .question-counter {
      position: fixed;
      top: 24px;
      left: 24px;
      font-size: 0.85rem;
      color: var(--text-muted);
      z-index: 100;
    }

    .question-counter span {
      color: var(--accent);
      font-weight: 600;
    }

    /* Quiz card */
    .quiz-card {
      max-width: 600px;
      width: 100%;
      text-align: center;
    }

    /* Question slides */
    .question-slide {
      display: none;
      opacity: 0;
      transform: translateX(60px);
      transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .question-slide.active {
      display: block;
    }

    .question-slide.visible {
      opacity: 1;
      transform: translateX(0);
    }

    .question-slide.exit {
      opacity: 0;
      transform: translateX(-60px);
    }

    /* Question emoji */
    .question-emoji {
      font-size: 4rem;
      margin-bottom: 24px;
      animation: float 3s ease-in-out infinite;
    }

    @keyframes float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }

    /* Question text */
    .question-text {
      font-family: 'Space Grotesk', sans-serif;
      font-size: clamp(1.5rem, 4vw, 2.25rem);
      font-weight: 600;
      line-height: 1.3;
      margin-bottom: 40px;
    }

    .question-text .highlight {
      background: var(--gradient);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    /* Answer options */
    .answers {
      display: flex;
      flex-direction: column;
      gap: 16px;
    }

    .answer-btn {
      background: var(--bg-card);
      border: 1px solid rgba(255,255,255,0.1);
      border-radius: var(--radius);
      padding: 20px 28px;
      color: var(--text);
      font-size: 1.1rem;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
      overflow: hidden;
    }

    .answer-btn::before {
      content: '';
      position: absolute;
      inset: 0;
      background: var(--gradient);
      opacity: 0;
      transition: opacity 0.3s;
    }

    .answer-btn span {
      position: relative;
      z-index: 1;
    }

    .answer-btn:hover {
      border-color: var(--accent);
      transform: translateY(-3px);
      box-shadow: 0 10px 40px rgba(0, 212, 170, 0.15);
    }

    .answer-btn:active {
      transform: scale(0.98);
    }

    .answer-btn.selected {
      border-color: var(--accent);
      background: rgba(0, 212, 170, 0.1);
    }

    .answer-btn.selected::before {
      opacity: 0.1;
    }

    /* Two column answers */
    .answers.two-col {
      flex-direction: row;
      justify-content: center;
      gap: 20px;
    }

    .answers.two-col .answer-btn {
      flex: 1;
      max-width: 200px;
    }

    /* Info text (for anchoring) */
    .info-reveal {
      margin-top: 32px;
      padding: 24px;
      background: rgba(255, 107, 53, 0.1);
      border: 1px solid rgba(255, 107, 53, 0.3);
      border-radius: var(--radius);
      opacity: 0;
      transform: translateY(20px);
      transition: all 0.5s ease;
    }

    .info-reveal.visible {
      opacity: 1;
      transform: translateY(0);
    }

    .info-reveal p {
      color: #ff6b35;
      font-size: 1rem;
      line-height: 1.6;
    }

    .info-reveal .big-number {
      font-family: 'Space Grotesk', sans-serif;
      font-size: 2.5rem;
      font-weight: 700;
      display: block;
      margin-bottom: 8px;
    }

    /* Result slide */
    .result-slide {
      display: none;
      text-align: center;
    }

    .result-slide.active {
      display: block;
      animation: fadeUp 0.8s ease forwards;
    }

    @keyframes fadeUp {
      from {
        opacity: 0;
        transform: translateY(40px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .result-emoji {
      font-size: 5rem;
      margin-bottom: 24px;
      animation: celebrate 0.6s ease;
    }

    @keyframes celebrate {
      0% { transform: scale(0); }
      50% { transform: scale(1.2); }
      100% { transform: scale(1); }
    }

    .result-title {
      font-size: clamp(1.75rem, 5vw, 2.5rem);
      margin-bottom: 16px;
    }

    .result-text {
      color: var(--text-muted);
      font-size: 1.1rem;
      max-width: 450px;
      margin: 0 auto 40px;
      line-height: 1.6;
    }

    .result-badge {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 12px 24px;
      background: rgba(0, 212, 170, 0.1);
      border: 1px solid rgba(0, 212, 170, 0.3);
      border-radius: 999px;
      margin-bottom: 32px;
      font-size: 0.9rem;
      color: var(--accent);
    }

    .result-badge .dot {
      width: 8px;
      height: 8px;
      background: var(--accent);
      border-radius: 50%;
      animation: pulse 2s infinite;
    }

    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }

    .cta-btn {
      display: inline-flex;
      align-items: center;
      gap: 12px;
      padding: 18px 40px;
      background: var(--gradient);
      border: none;
      border-radius: 999px;
      color: var(--bg);
      font-size: 1.15rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      text-decoration: none;
    }

    .cta-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 20px 40px var(--accent-glow);
    }

    .cta-btn svg {
      transition: transform 0.3s;
    }

    .cta-btn:hover svg {
      transform: translateX(4px);
    }

    /* Loading dots for transition */
    .loading-dots {
      display: none;
      justify-content: center;
      gap: 8px;
      padding: 40px;
    }

    .loading-dots.active {
      display: flex;
    }

    .loading-dots span {
      width: 12px;
      height: 12px;
      background: var(--accent);
      border-radius: 50%;
      animation: loadingBounce 1.4s ease-in-out infinite;
    }

    .loading-dots span:nth-child(1) { animation-delay: 0s; }
    .loading-dots span:nth-child(2) { animation-delay: 0.2s; }
    .loading-dots span:nth-child(3) { animation-delay: 0.4s; }

    @keyframes loadingBounce {
      0%, 80%, 100% { transform: scale(0.6); opacity: 0.5; }
      40% { transform: scale(1); opacity: 1; }
    }

    /* Responsive */
    @media (max-width: 600px) {
      .answers.two-col {
        flex-direction: column;
      }

      .answers.two-col .answer-btn {
        max-width: 100%;
      }

      .question-emoji {
        font-size: 3rem;
      }
    }
  </style>
</head>
<body>

  <div class="bg-gradient"></div>

  <div class="progress-container">
    <div class="progress-bar" id="progressBar"></div>
  </div>

  <div class="question-counter" id="questionCounter">
    Domanda <span>1</span> di 5
  </div>

  <div class="quiz-container">
    <div class="quiz-card">

      <!-- Question 1: Commitment iniziale -->
      <div class="question-slide active" data-question="1">
        <div class="question-emoji">‚úàÔ∏è</div>
        <h2 class="question-text">Hai voglia di <span class="highlight">staccare tutto</span> e fare un viaggio nel 2026?</h2>
        <div class="answers two-col">
          <button class="answer-btn" data-answer="yes" data-next="2">
            <span>Assolutamente s√¨!</span>
          </button>
          <button class="answer-btn" data-answer="maybe" data-next="2">
            <span>Magari...</span>
          </button>
        </div>
      </div>

      <!-- Question 2: Coerenza gruppo -->
      <div class="question-slide" data-question="2">
        <div class="question-emoji">üë•</div>
        <h2 class="question-text">Preferisci viaggiare <span class="highlight">con amici</span> o in solitaria?</h2>
        <div class="answers two-col">
          <button class="answer-btn" data-answer="friends" data-next="3">
            <span>Con amici!</span>
          </button>
          <button class="answer-btn" data-answer="solo" data-next="3">
            <span>Da solo/a</span>
          </button>
        </div>
      </div>

      <!-- Question 3: Coerenza avventura -->
      <div class="question-slide" data-question="3">
        <div class="question-emoji">üèùÔ∏è</div>
        <h2 class="question-text">Cosa ti attira di pi√π?</h2>
        <div class="answers">
          <button class="answer-btn" data-answer="adventure" data-next="4">
            <span>ü§ø Avventura attiva: snorkeling, trekking, esplorazione</span>
          </button>
          <button class="answer-btn" data-answer="relax" data-next="4">
            <span>üçπ Resort & relax: sdraio, cocktail, zero pensieri</span>
          </button>
        </div>
      </div>

      <!-- Question 4: Anchoring prezzo -->
      <div class="question-slide" data-question="4">
        <div class="question-emoji">üí∞</div>
        <h2 class="question-text">Sai quanto costa un viaggio a <span class="highlight">Mauritius</span>?</h2>
        <div class="answers two-col">
          <button class="answer-btn" data-answer="yes" data-next="4b" data-show-info="true">
            <span>Pi√π o meno</span>
          </button>
          <button class="answer-btn" data-answer="no" data-next="4b" data-show-info="true">
            <span>Non ne ho idea</span>
          </button>
        </div>
        <div class="info-reveal" id="priceAnchor">
          <p>
            <span class="big-number">‚Ç¨3.500 - ‚Ç¨4.000</span>
            Questo √® il costo medio di un viaggio a Mauritius in resort per 9 giorni.<br>
            <em>Ma c'√® un modo per spendere molto meno...</em>
          </p>
        </div>
      </div>

      <!-- Question 4b: Transition after anchoring (auto-skip) -->
      <div class="question-slide" data-question="4b">
        <div class="loading-dots active">
          <span></span>
          <span></span>
          <span></span>
        </div>
      </div>

      <!-- Question 5: Loss aversion -->
      <div class="question-slide" data-question="5">
        <div class="question-emoji">üòî</div>
        <h2 class="question-text">Ti √® mai capitato di <span class="highlight">rimpiangere</span> un viaggio che non hai fatto?</h2>
        <div class="answers two-col">
          <button class="answer-btn" data-answer="yes" data-next="result">
            <span>S√¨, purtroppo</span>
          </button>
          <button class="answer-btn" data-answer="no" data-next="result">
            <span>No mai</span>
          </button>
        </div>
      </div>

      <!-- Result -->
      <div class="result-slide" id="resultSlide">
        <div class="result-emoji">üéØ</div>
        <div class="result-badge">
          <span class="dot"></span>
          <span>Match perfetto trovato!</span>
        </div>
        <h2 class="result-title">Ho qualcosa che fa per te.</h2>
        <p class="result-text">
          <strong>Mauritius, 20-28 Marzo 2026.</strong><br>
          9 giorni di avventura con un gruppo di amici. Mare cristallino, delfini, trekking ‚Äî a molto meno di quanto pensi.
        </p>
        <a href="https://viaggiomauritius202603.vercel.app/" class="cta-btn">
          Scopri il viaggio
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
            <path d="M5 12h14M12 5l7 7-7 7"/>
          </svg>
        </a>
      </div>

    </div>
  </div>

  <script>
    const progressBar = document.getElementById('progressBar');
    const questionCounter = document.getElementById('questionCounter');
    const resultSlide = document.getElementById('resultSlide');
    const priceAnchor = document.getElementById('priceAnchor');

    let currentQuestion = 1;
    const totalQuestions = 5;
    const answers = {};

    // Update progress
    function updateProgress(question) {
      const progress = (question / totalQuestions) * 100;
      progressBar.style.width = progress + '%';
      questionCounter.innerHTML = `Domanda <span>${Math.min(question, totalQuestions)}</span> di ${totalQuestions}`;
    }

    // Show question
    function showQuestion(questionNum) {
      const allSlides = document.querySelectorAll('.question-slide');
      const currentSlide = document.querySelector('.question-slide.active.visible');
      const nextSlide = document.querySelector(`[data-question="${questionNum}"]`);

      if (currentSlide) {
        currentSlide.classList.add('exit');
        currentSlide.classList.remove('visible');
        
        setTimeout(() => {
          currentSlide.classList.remove('active', 'exit');
        }, 500);
      }

      setTimeout(() => {
        nextSlide.classList.add('active');
        
        setTimeout(() => {
          nextSlide.classList.add('visible');
        }, 50);
      }, currentSlide ? 300 : 0);

      // Update counter for main questions only
      if (!String(questionNum).includes('b')) {
        currentQuestion = parseInt(questionNum);
        updateProgress(currentQuestion);
      }
    }

    // Show result
    function showResult() {
      const currentSlide = document.querySelector('.question-slide.active.visible');
      
      if (currentSlide) {
        currentSlide.classList.add('exit');
        currentSlide.classList.remove('visible');
        
        setTimeout(() => {
          currentSlide.classList.remove('active', 'exit');
          questionCounter.style.opacity = '0';
          progressBar.style.width = '100%';
          resultSlide.classList.add('active');
        }, 500);
      }
    }

    // Handle answer click
    document.querySelectorAll('.answer-btn').forEach(btn => {
      btn.addEventListener('click', function() {
        const answer = this.dataset.answer;
        const next = this.dataset.next;
        const showInfo = this.dataset.showInfo;
        const questionSlide = this.closest('.question-slide');
        const questionNum = questionSlide.dataset.question;

        // Store answer
        answers[questionNum] = answer;

        // Visual feedback
        this.classList.add('selected');

        // Show price anchor info if needed
        if (showInfo && priceAnchor) {
          priceAnchor.classList.add('visible');
          
          // Wait for user to read, then continue
          setTimeout(() => {
            showQuestion('5');
          }, 3000);
          return;
        }

        // Navigate
        setTimeout(() => {
          if (next === 'result') {
            showResult();
          } else {
            showQuestion(next);
          }
        }, 400);
      });
    });

    // Initialize
    updateProgress(1);
    setTimeout(() => {
      document.querySelector('.question-slide.active').classList.add('visible');
    }, 300);

    // Keyboard navigation (for accessibility)
    document.addEventListener('keydown', (e) => {
      if (e.key === '1' || e.key === '2') {
        const activeSlide = document.querySelector('.question-slide.active.visible');
        if (activeSlide) {
          const buttons = activeSlide.querySelectorAll('.answer-btn');
          const index = e.key === '1' ? 0 : 1;
          if (buttons[index]) {
            buttons[index].click();
          }
        }
      }
    });
  </script>

</body>
</html>
